(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"a",function(){return l});var r=n(3),o=n(26),a=n(27),i=n.n(a),s=!1;if(r.b.USE_ELECTRON){var c=window.require("electron");s=c.ipcRenderer}var u=function(){var e=r.b.USE_PHOTODIODE?"visible":"invisible";return'<div class="photodiode-box '.concat(e,'" id="photodiode-box">\n\t\t\t\t\t\t\t\t\t<span id="photodiode-spot" class="photodiode-spot"></span>\n  \t\t\t\t\t\t\t\t</div>')},l=function(e){if(r.b.USE_PHOTODIODE){var t=e;e<o.eventCodes.open_task&&(t=1),function e(t,n){n>0&&function(e,t){i()(".photodiode-spot").css({"background-color":"black"}),setTimeout(function(){i()(".photodiode-spot").css({"background-color":"white"}),t()},e)}(t,function(){setTimeout(function(){e(t,n-1)},t)})}(40,t),s&&s.send("trigger",e)}}},16:function(e,t,n){"use strict";n.d(t,"f",function(){return a}),n.d(t,"e",function(){return i}),n.d(t,"b",function(){return s}),n.d(t,"c",function(){return u}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l});var r,o=n(6),a=function(e){return new Promise(function(t){return setTimeout(t,e)})},i=function(e){return function(e,t){return e+Math.floor(Math.random()*Math.floor(t))}(e,50)},s=function(e){return JSON.parse(JSON.stringify(e))},c=((r=n(70)).keys().map(r),function(){var e=o.jsPsych.turk.turkInfo();return"".concat(e.workerId,":").concat(e.assignmentId)}),u=function(){return function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var r=t[n].split("=");if(decodeURIComponent(r[0])===e)return decodeURIComponent(r[1])}}("PROLIFIC_PID")},l=function(e){var t=new AudioContext,n=t.createOscillator(),r=t.createGain();n.type=e.type,n.connect(r),n.frequency.setValueAtTime(e.frequency,0),console.log(t.currentTime),r.connect(t.destination),n.start(),n.stop(t.currentTime+.4)}},17:function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return"<div class=".concat(t?"main-prompt":"main",">").concat(e,"</div>")}},26:function(e,t){e.exports={eventCodes:{fixation:1,evidence:5,show_earnings:7,feedback:8,test_connect:32,open_task:18}}},3:function(e,t,n){"use strict";n.d(t,"f",function(){return l}),n.d(t,"c",function(){return w}),n.d(t,"e",function(){return v}),n.d(t,"b",function(){return k}),n.d(t,"a",function(){return u});var r=n(6),o=n(29),a=n.n(o),i=n(26);n.d(t,"d",function(){return i.eventCodes});var s=n(20),c=n(16),u={frequency:100*(i.eventCodes.open_task-9),type:"sine"};new Audio("/sounds/reward.mp3").preload="auto",new Audio("/sounds/no-reward.mp3").preload="auto";var l="honeycomb template",d=!r.jsPsych.turk.turkInfo().outsideTurk,h=Object(c.c)()&&!d,p=!0,f="true"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_FIREBASE;try{window.require("electron")}catch(O){p=!1}var m="true"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_VOLUME,_="true"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_VIDEO&&p,y="true"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_USE_EEG&&p,b="true"===Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_USE_PHOTODIODE&&p,v=n(73);if(!p){var g=n(74);a.a.merge(v,g)}var w={conditions:["a","b","c"],repeats_per_condition:1,is_practice:!1,is_tutorial:!1,photodiode_active:!1},k=Object(s.init)({USE_PHOTODIODE:b,USE_EEG:y,USE_ELECTRON:p,USE_MTURK:d,USE_VOLUME:m,USE_CAMERA:_,USE_PROLIFIC:h,USE_FIREBASE:f})},36:function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return p}),n.d(t,"a",function(){return f});var r=n(19),o=n.n(r),a=n(42),i=n(24),s=n(3),c=n(14),u=n(17),l=n(6),d=!1;if(s.b.USE_ELECTRON){var h=window.require("electron");d=h.ipcRenderer}var p=function(){document.title=s.f;var t='\n  <div class="d-flex flex-column align-items-center">\n  <p>'.concat(s.e.instructions.camera,'</p>\n  <video id="camera" width="640" height="480" autoplay></video>\n  </div>\n  ');return{type:"html_button_response",stimulus:Object(u.a)(t,!0)+Object(c.b)(),choices:[s.e.prompt.continue.button],response_ends_trial:!0,on_load:function(){var t=l.jsPsych.data.get().values()[0].participant_id,n=document.getElementById("camera"),r=function(r,o){console.log(r),"cameraCapture"===o&&(n.srcObject=r);var a=[];window[o]=new MediaRecorder(r,{mimeType:"video/webm"}),window[o].addEventListener("dataavailable",function(e){e.data.size>0&&a.push(e.data)}),window[o].addEventListener("stop",function(){!function(t,n,r){var o=new FileReader,a="pid_".concat(r,"_").concat(n,"_").concat(Date.now(),".webm");o.onload=function(){if(2===o.readyState){var n=new e(o.result);d.send("save_video",a,n),console.log("Saving ".concat(JSON.stringify({fileName:a,size:t.size})))}},o.readAsArrayBuffer(t)}(new Blob(a),o,t)})};navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){return r(e,"cameraCapture")}),window.require("electron").desktopCapturer.getSources({types:["window"]}).then(function(){var e=Object(i.a)(o.a.mark(function e(t){var n,i,c;return o.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(a.a)(t);try{for(n.s();!(i=n.n()).done;)(c=i.value).name===s.f&&navigator.mediaDevices.getUserMedia({video:{mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:c.id}}}).then(function(e){r(e,"screenCapture")}).catch(function(e){return console.log(e)})}catch(o){n.e(o)}finally{n.f()}case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},on_finish:function(){if(s.b.USE_CAMERA)try{window.cameraCapture.start(),window.screenCapture.start()}catch(e){window.alert("Camera permissions were not given, if you choose to proceed, your recording will not be saved. Please restart the experiment after you have given permission.")}}}},f=function(e){return{type:"html_keyboard_response",stimulus:Object(u.a)("<h1>".concat(s.e.task.recording_end,"</h1>"),!0)+Object(c.b)(),trial_duration:e,on_load:function(){if(s.b.USE_CAMERA){console.log("finished");try{window.cameraCapture.stop(),window.screenCapture.stop()}catch(e){window.alert("Your video recording was not saved")}}}}}}).call(this,n(75).Buffer)},43:function(e){e.exports={a:"2.3.1"}},45:function(e,t,n){e.exports=n(88)},52:function(e,t,n){},54:function(e,t,n){},70:function(e,t,n){var r={"./blue_payout_correct_10.png":71,"./blue_payout_correct_100.png":72};function o(e){var t=a(e);return n(t)}function a(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=a,e.exports=o,o.id=70},71:function(e,t,n){e.exports=n.p+"static/media/blue_payout_correct_10.f515a81e.png"},72:function(e,t,n){e.exports=n.p+"static/media/blue_payout_correct_100.ae2416c7.png"},73:function(e){e.exports={task:{name:"Honeycomb Task",end:"This experiment has ended.",recording_end:"Your recording has ended."},prompt:{continue:{press:"Press any key to continue.",button:"Continue"},focus:"Make sure the photodiode is covering the spot and any external recordings have begun before continuing.",fullscreen:"Press 'cmd + ctrl + F' to toggle Fullscreen.",zoom:"Zoom in to enlarge the screen.",setting_up:"Setting up task...",too_slow:"Response too slow. Please try to respond faster."},welcome:{large_window:"Please make this window as large as possible.",message:"Instructions"},userid:{set:"Please enter participant ID."},eventMarker:{found:"Note: event marker found.",not_found:"Note: no event marker found."},countdown:{message1:"Countdown for the first block",message2:"Countdown for the second block"},instructions:{adjust_volume:"Set tablet volume to 50/100.",camera:"Make sure the camera is pointing to you and your face is within the camera area.",check_event_marker:"Make sure the event marker is connected and then continue.",welcome:"Welcome to the circles task!<br/>During this task you will see two circles on the screen. Like this...",throughout:"<br/>Throughout the task you should use the <b>F</b> key to select the circle on the LEFT, and the <b>J</b> key to select the circle on the RIGHT.",screen2:"One circle is \u201ccorrect\u201d and the other is \u201cincorrect\u201d, but at first you won\u2019t know which. <br/>Your task is to select which circle is \u201ccorrect\u201d as quickly and accurately as possible. <br/>There is no ABSOLUTE right answer, but some circles have a higher chance of being correct than others. Try to pick the circle that has the highest chance of being correct.<br/>Once you have decided which of the two circles is more likely to be correct, stick with it. You can change your mind if you feel that your first choice was wrong.",screen3:"To make the task trickier, the correct circle will change every now and then. Thus, you may figure out the 'correct' circle, but start getting feedback that you are wrong after a while. This may mean that the 'correct' circle has changed, and you should try choosing the other circle.<br/>When you feel like the correct circle has changed, you should start choosing the other circle, sticking with that one until you think that it is no longer correct.<br/>Remember to pick the circle that has the highest chance of being correct.",screen4:"To make the task EVEN trickier, there are two possible types of features you can use to make your decision about which circle is correct:<br/>The SIDE the circle is on.<br/>OR<br/>The COLOR of the circle.<br/>You will need to figure out which type of feature (SIDE or COLOR) you should be using to make your decision about which circle is correct. Only one feature type will be correct at any given time.<br/>Once you have decided which feature to use to select the correct circle, stick with it.<br/>However, the type of feature you should use also changes from time to time- When you feel like the correct feature has changed, you should start choosing based on the other feature, sticking with that one until you think that it is no longer correct.",screen5:"On each trial, after you make your response you will see\u2026<br/>A green checkmark if you chose correctly. Like this\u2026",screen5_2:"OR<br/>A red X if you chose incorrectly. Like this\u2026",screen6:"You will see a small cross at the beginning of each trial. Like this\u2026",screen6_2:"You should try to blink only when the cross is on the screen.",screen7:"Some reminders before you begin the task:<br/>Your goal is to select the \u201ccorrect\u201d circle; the correct circle may change sometimes.<br/>You can use two types of features to make your decision: SIDE or COLOR; the feature you should use also changes sometimes.<br/>Use the F key to select the circle on the LEFT, and the J key to select the circle on the RIGHT.<br/>Make your responses as quickly and accurately as possible: If your response is too slow, you will get a warning message before the next trial.<br/>The task will last 15-20 minutes.<br/>Press Next to begin the task."},quiz:{ask:{age:"What's your age?",demographics_age:"<p>How old are you?</p>",demographics_ethnicity:"<p>What is your ethnicity?</p>",demographics_race:"<p>What is your race?</p>",demographics_english:"<p>Are you fluent in English?</p>",demographics_gender:"<p>What is your gender?</p>",diagnoses:"<p>Have you ever been diagnosed with Parkinson's disease, Schizophrenia, Obsessive-Compulsive Disorder, or Depression?</p>"},prompt:{ius:{preamble:"This questionnaire is designed to measure intolerance of uncertainty. <br>Please answer the following questions as honestly as you can. <br>There are no right or wrong answers, and there are no trick questions.",upset:"1. Unforeseen events upset me greatly.",frustration:"2. It frustrates me not having all the information I need.",full_life:"3. Uncertainty keeps me from living a full life.",surprise_avoid:"4. One should always look ahead so as to avoid surprises.",unforeseen_spoil:"5. A small unforeseen event can spoil everything, even with the best of planning.",uncertainty_paralysis:"6. When it's time to act, uncertainty paralyzes me.",uncertainty_malfunction:"7. When I am uncertain I can't function very well.",future:"8. I always want to know what the future has in store of me.",surprise_intolerance:"9. I can't stand being taken by surprise",doubt_paralysis:"10. The smallest doubt can stop me from acting.",organize:"11. I should be able to organize everything in advance.",escape:"12. I must get away from all uncertain situations."},preamble:{demo_1:"<h1>Demographics (1/3)</h1>",demo_2:"<h1>Demographics (2/3)</h1>",demo_3:"<h1>Demographics (3/3)</h1>",survey_1:"<h1>Survey (1/1)</h1>"}},answer:{age:"Answer 12 no matter what.",abstain:"Prefer not to answer.",ius:{not:"1 - Not at all characteristic of me",little:"2 - A little characteristic of me",somewhat:"3 - Somewhat characteristic of me",very:"4 - Very characteristic of me",entirely:"5 - Entirely characteristic of me",abstain:"Prefer not to answer"},debriefing:{confirm_completion:"Confirm Completion"},demographics_ethnicity:{hispanic_latino:"Hispanic or Latino",no_hispanic_latino:"NOT Hispanic or Latino"},demographics_race:{asian:"Asian",african_american:"African-American",caucasian:"Caucasian",native_american_alaskan:"Native American/Alaskan",native_hawaiian_pacific_islander:"Native Hawaiian or Pacific Islander",other:"Other"},demographics_binary:{yes:"YES",no:"NO"},demographics_gender:{female:"Female",male:"Male",other:"Other",abstain:"Prefer to not say"},demographics_diagnoses:{no:"NO",parkinsons:"Parkinson's Disease",schizophrenia:"Schizophrenia",ocd:"Obsessive Compulsive Disorder",depression:"Depression"}},direction:{slider:{right:"Move the slider to the right.",left:"Move the slider to the left."}}}}},74:function(e){e.exports={welcome:{message:"Welcome to the NEURO experiment."},userid:{set:"Setting up user ID."}}},88:function(e,t,n){"use strict";n.r(t);var r=n(2),o=n.n(r),a=n(41),i=n.n(a),s=(n(52),n(19)),c=n.n(s),u=n(24),l=n(18),d=(n(54),n(55),n(56),n(22)),h=n(44);var p=function(e){var t=e.onLogin,n=e.envParticipantId,a=e.envStudyId,i=e.validationFunction,s=Object(r.useState)(""),c=Object(l.a)(s,2),u=c[0],p=c[1],f=Object(r.useState)(""),m=Object(l.a)(f,2),_=m[0],y=m[1],b=Object(r.useState)(!1),v=Object(l.a)(b,2),g=v[0],w=v[1];return Object(r.useEffect)(function(){p(n),y(a)},[n,a]),o.a.createElement("div",{className:"centered-h-v"},o.a.createElement("div",{className:"width-50"},g?o.a.createElement("div",{className:"alert alert-danger",role:"alert"},"The participant ID and study ID do not match"):null,o.a.createElement(d.a,{className:"centered-h-v",onSubmit:function(e){e.preventDefault(),i(u,_).then(function(e){e?t(e,_,u):w(!0)})}},o.a.createElement(d.a.Group,{className:"width-100",size:"lg",controlId:"participantId"},o.a.createElement(d.a.Label,null,"Participant ID"),o.a.createElement(d.a.Control,{autoFocus:!0,type:"participantId",value:u,onChange:function(e){return p(e.target.value)}})),o.a.createElement(d.a.Group,{className:"width-100",size:"lg",controlId:"studyId"},o.a.createElement(d.a.Label,null,"Study ID"),o.a.createElement(d.a.Control,{type:"studyId",value:_,onChange:function(e){return y(e.target.value)}})),o.a.createElement(h.a,{style:{width:"100%"},block:!0,size:"lg",type:"submit",disabled:!(u.length>0&&_.length>0)},"Log In"))))},f=n(6),m=n(3),y=n(14),b=n(17),v=function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",'<span style="color: green;">'.concat(m.e.eventMarker.found,"</span>"));case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),g=function(){return{type:"html_button_response",stimulus:Object(b.a)("<div><h2 id='usb-alert'></h2></div>",!0)+Object(y.b)(),prompt:["<br><h3>".concat(m.e.prompt.focus,"</h3>")],choices:[m.e.prompt.continue.button],on_load:function(){return v().then(function(e){return document.getElementById("usb-alert").innerHTML=e})}}},w=n(16),k=function(){return{type:"html_keyboard_response",stimulus:Object(b.a)("<h1>".concat(m.e.prompt.setting_up,"</h1>"),!0)+Object(y.b)(),trial_duration:2e3,on_load:function(){Object(y.a)(m.d.open_task),Object(w.a)(m.a)}}},O=n(20),E=[Object(O.showMessage)(m.b,{responseType:"html_button_response",message:m.e.task.name,responseEndsTrial:!0,buttons:[m.e.prompt.continue.button]})];m.b.USE_PHOTODIODE&&(E.push(g()),E.push(k()));var j={type:"html_keyboard_response",stimulus:"",timeline:E},P=function(e){return e?'<div class="beads_container"><div class="circle c1"></div><div class="circle c2" ></div></div>':'<div class="beads_container"><div class="circle c2"></div><div class="circle c1"></div></div>'},I=function(e){var t=Math.random()<.5;return{type:"html_keyboard_response",stimulus:P(t)+Object(y.b)(),trial_duration:1250,response_ends_trial:!0,on_start:function(n){var r=f.jsPsych.data.get().values(),o=r[r.length-4];null!=o?o.history.filter(Boolean).length>=16?n.data={rule:e[o.switchCount+1]}:n.data={rule:o.rule}:n.data={rule:e[0]};var a=[2,3,4];switch(null!=o&&(a[2]=o.c1Side),null!=r[r.length-8]&&(a[1]=r[r.length-8].c1Side),null!=r[r.length-12]&&(a[0]=r[r.length-12].c1Side),t=a.every(function(e,t,n){return e===n[0]})?!a[0]:Math.random()<.5,n.stimulus=P(t)+Object(y.b)(),n.data.rule){case"L":n.data.key_answer=70;break;case"R":n.data.key_answer=74;break;case"C1":n.data.key_answer=t?70:74;break;default:n.data.key_answer=t?74:70}},on_load:function(){Object(y.a)(m.d.open_task)},on_finish:function(n){var r=f.jsPsych.data.get().values();r=r[r.length-5],n.correct=n.key_press===n.key_answer,n.left=70===n.key_press,n.c1Choice=70===n.key_press&&t||74===n.key_press&&!t,n.c1Side=t,null!=r&&r.hasOwnProperty("trialNum")?(n.trialNum=r.trialNum+1,n.rule===r.rule?(n.history=r.history,n.switchCount=r.switchCount):(n.history=new Array(20).fill(!1),n.switchCount=r.switchCount+1),n.history.pop(),n.history.unshift(n.correct),r.switchCount+1===e.length&&n.history.filter(Boolean).length>=16&&(n.complete=!0)):(n.trialNum=1,n.history=new Array(20).fill(!1),n.history[0]=n.correct,n.switchCount=0),null!=n.key_press&&(n.correct&&Math.random()<.8||!n.correct&&Math.random()<.2)?n.rewarded=!0:n.rewarded=!1}}},T=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=(!(arguments.length>3&&void 0!==arguments[3])||arguments[3],(n?'<div class="center_container"><div id="fixation-dot" style="color: green">+</div></div>':'<div class="center_container"><div id="fixation-dot" style="color: white">+</div></div>')+Object(y.b)()),o=m.d.fixation,a=t?Object(w.e)(e):e;return{type:"html_keyboard_response",choices:f.jsPsych.NO_KEYS,stimulus:r,response_ends_trial:!1,trial_duration:a,on_load:function(){Object(y.a)(o)},on_finish:function(e){e.code=o}}},S=function(e){return e?'<div class="center_container"><div id="feedback-text" style="color: green">\u2713</div></div>':'<div class="center_container"><div id="feedback-text" style="color: red">\u2715</div></div>'},C=function(){var e=S(!0)+Object(y.b)(),t=m.d.feedback;return{type:"html_keyboard_response",choices:f.jsPsych.NO_KEYS,stimulus:e,response_ends_trial:!1,trial_duration:500,on_start:function(e){var t,n=f.jsPsych.data.get().values();null==(n=n[n.length-1]).key_press?(e.stimulus=(t=m.e.prompt.too_slow,'<div class="beads_container"><h1 class="too_slow">'.concat(t,"</h1></div>")+Object(y.b)()),e.trial_duration=2e3):(e.stimulus=S(n.rewarded)+Object(y.b)(),e.trial_duration=750)},on_load:function(){Object(y.a)(t)},on_finish:function(e){e.code=t}}},U=function(e){return{type:"html_keyboard_response",timeline:[T(2e3,!0,!1,!0),T(200,!1,!0,!0),I(e),C()]}};function R(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=[e[n],e[t]];e[t]=r[0],e[n]=r[1]}}function L(e){for(var t=1;t<e.length;t++)if(e[t-1]===e[t])return!0;return!1}var A=function(){var e=Array.from({length:2},function(){return["L","R","C1","C2"]}).flat();for(R(e);L(e);)R(e);return{timeline:[U(e)],loop_function:function(e){var t=e.values();return!t[t.length-2].hasOwnProperty("complete")}}},N=n(36),D=Object(w.b)(m.c);D.is_tutorial=!0,D.photodiode_active=!1,Object(w.b)(m.c).repeats_per_condition=2;var M=Object(w.b)(m.c);M.conditions=["e","f"],M.repeats_per_condition=2;var x=Object(b.a)("\n    <div class='instructions'>\n    <h3>".concat(m.e.instructions.welcome,'</h3>\n    <div class=\'instructions_container\'><div class="circle c1"></div><div class="circle c2"></div></div>\n    <h3>').concat(m.e.instructions.throughout,"</h3>\n    </div>\n    "),!0),F=Object(b.a)("\n    <div class='instructions'>\n    <h3>".concat(m.e.instructions.screen2,"</h3>\n    </div>\n    "),!0),B=Object(b.a)("\n    <div class='instructions'>\n    <h3>".concat(m.e.instructions.screen3,"</h3>\n    </div>\n    "),!0),H=Object(b.a)("\n    <div class='instructions'>\n    <h3>".concat(m.e.instructions.screen4,"</h3>\n    </div>\n    "),!0),V=Object(b.a)("\n    <div class='instructions'>\n    <h3>".concat(m.e.instructions.screen5,'</h3><br/>\n    <div id="feedback-text" style="color: green">\u2713</div>\n    <h3>').concat(m.e.instructions.screen5_2,'</h3><br/>\n    <div id="feedback-text" style="color: red">\u2715</div>\n    </div>\n    '),!0),z=Object(b.a)("\n    <div class='instructions'>\n    <h3>".concat(m.e.instructions.screen6,'</h3><br/>\n    <div id="fixation-dot" style="color: white">+</div>\n    </div>\n    '),!0),q=Object(b.a)("\n    <div class='instructions'>\n    <h3>".concat(m.e.instructions.screen7,"</h3>\n    </div>\n    "),!0),K=[function(){return{type:"instructions",pages:[x,F,B,H,V,z,q],show_clickable_nav:!0}}(),A()];m.b.USE_CAMERA&&(K.splice(1,0,Object(N.b)()),K.push(Object(N.a)(5e3))),K.push(Object(O.showMessage)(m.b,{duration:5e3,message:m.e.task.end}));var Y=[j,Object(O.countdown)({message:m.e.countdown.message1}),A(D),Object(O.countdown)({message:m.e.countdown.message2}),A(M),Object(O.showMessage)(m.b,{duration:5e3,message:m.e.task.end})],G=m.b.USE_MTURK?Y:K;function W(){var e={};return e.info={name:"categorize-html",description:"",parameters:{stimulus:{type:f.jsPsych.plugins.parameterType.HTML_STRING,pretty_name:"Stimulus",default:void 0,description:"The HTML content to be displayed."},key_answer:{type:f.jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Key answer",default:void 0,description:"The key to indicate the correct response."},choices:{type:f.jsPsych.plugins.parameterType.KEYCODE,pretty_name:"Choices",default:f.jsPsych.ALL_KEYS,array:!0,description:"The keys the subject is allowed to press to respond to the stimulus."},text_answer:{type:f.jsPsych.plugins.parameterType.STRING,pretty_name:"Text answer",default:null,description:"Label that is associated with the correct answer."},correct_text:{type:f.jsPsych.plugins.parameterType.STRING,pretty_name:"Correct text",default:"<p class='feedback'>Correct</p>",description:"String to show when correct answer is given."},incorrect_text:{type:f.jsPsych.plugins.parameterType.STRING,pretty_name:"Incorrect text",default:"<p class='feedback'>Incorrect</p>",description:"String to show when incorrect answer is given."},prompt:{type:f.jsPsych.plugins.parameterType.STRING,pretty_name:"Prompt",default:null,description:"Any content here will be displayed below the stimulus."},force_correct_button_press:{type:f.jsPsych.plugins.parameterType.BOOL,pretty_name:"Force correct button press",default:!1,description:"If set to true, then the subject must press the correct response key after feedback in order to advance to next trial."},show_stim_with_feedback:{type:f.jsPsych.plugins.parameterType.BOOL,default:!0,no_function:!1,description:""},show_feedback_on_timeout:{type:f.jsPsych.plugins.parameterType.BOOL,pretty_name:"Show feedback on timeout",default:!1,description:"If true, stimulus will be shown during feedback. If false, only the text feedback will be displayed during feedback."},timeout_message:{type:f.jsPsych.plugins.parameterType.STRING,pretty_name:"Timeout message",default:"<p>Please respond faster.</p>",description:"The message displayed on a timeout non-response."},stimulus_duration:{type:f.jsPsych.plugins.parameterType.INT,pretty_name:"Stimulus duration",default:null,description:"How long to hide stimulus."},trial_duration:{type:f.jsPsych.plugins.parameterType.INT,pretty_name:"Trial duration",default:null,description:"How long to show trial"},feedback_duration:{type:f.jsPsych.plugins.parameterType.INT,pretty_name:"Feedback duration",default:2e3,description:"How long to show feedback."}}},e.trial=function(e,t){e.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+t.stimulus+"</div>",null!==t.stimulus_duration&&f.jsPsych.pluginAPI.setTimeout(function(){e.querySelector("#jspsych-categorize-html-stimulus").style.visibility="hidden"},t.stimulus_duration),null!==t.prompt&&(e.innerHTML+=t.prompt);var n={},r=function(r){f.jsPsych.pluginAPI.clearAllTimeouts(),f.jsPsych.pluginAPI.cancelAllKeyboardResponses();var a=!1;t.key_answer===r.key&&(a=!0),n={rt:r.rt,correct:a,stimulus:t.stimulus,key_press:r.key},e.innerHTML="";var i=null==r.rt;i?function(n,r){if(r&&!t.show_feedback_on_timeout)e.innerHTML+=t.timeout_message;else{t.show_stim_with_feedback&&(e.innerHTML='<div id="jspsych-categorize-html-stimulus" class="jspsych-categorize-html-stimulus">'+t.stimulus+"</div>");var a="";a=n?t.correct_text.replace("%ANS%",t.text_answer):t.incorrect_text.replace("%ANS%",t.text_answer),e.innerHTML+=a}if(t.force_correct_button_press&&!1===n&&(r&&t.show_feedback_on_timeout||!r)){f.jsPsych.pluginAPI.getKeyboardResponse({callback_function:function(e){o()},valid_responses:[t.key_answer],rt_method:"performance",persist:!1,allow_held_key:!1})}else f.jsPsych.pluginAPI.setTimeout(function(){o()},t.feedback_duration)}(a,i):o()};function o(){e.innerHTML="",f.jsPsych.finishTrial(n)}f.jsPsych.pluginAPI.getKeyboardResponse({callback_function:r,valid_responses:t.choices,rt_method:"performance",persist:!1,allow_held_key:!1}),null!==t.trial_duration&&f.jsPsych.pluginAPI.setTimeout(function(){r({key:null,rt:null})},t.trial_duration)},e}var J=function(e){var t=e.dataUpdateFunction,n=e.dataFinishFunction;return f.jsPsych.plugins["rt-categorize-html"]=W(),o.a.createElement("div",{className:"App"},o.a.createElement(f.Experiment,{settings:{timeline:G,on_data_update:function(e){return t(e)},on_finish:function(e){return n(e)}}}))},X=n(32);n(84);n(85).config();var Z={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_apiKey,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_authDomain,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_databaseURL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_projectId||"no-firebase",storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_storageBucket,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_messagingSenderId,appId:Object({NODE_ENV:"production",PUBLIC_URL:"."}).REACT_APP_appId},Q=X.a.initializeApp(Z).firestore();"localhost"===window.location.hostname&&Q.useEmulator("localhost",8080);var $=function(e,t,n){return Q.collection("participant_responses").doc(t).collection("participants").doc(e).collection("data").doc(n).set({start_time:n,app_version:window.navigator.appVersion,app_platform:window.navigator.platform,results:[]}).then(function(){return!0}).catch(function(e){return!1})},ee=function(e){console.log(e);var t=e.participant_id,n=e.study_id,r=e.start_date;Q.collection("participant_responses").doc(n).collection("participants").doc(t).collection("data").doc(r).update("results",X.a.firestore.FieldValue.arrayUnion(e))},te=(X.a,n(43));var ne=function(){var e=(new Date).toISOString(),t=Object(r.useState)(!1),n=Object(l.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(!1),d=Object(l.a)(s,2),h=d[0],y=d[1],b=Object(r.useState)(!1),v=Object(l.a)(b,2),g=v[0],k=v[1],O=Object(r.useState)(""),E=Object(l.a)(O,2),j=E[0],P=E[1],I=Object(r.useState)(""),T=Object(l.a)(I,2),S=T[0],C=T[1],U=Object(r.useState)("default"),R=Object(l.a)(U,2),L=R[0],A=R[1],N=Object(r.useState)(!1),D=Object(l.a)(N,2),M=D[0],x=D[1],F=new URLSearchParams(window.location.search),B=function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),H=function(){},V=Object(r.useCallback)(function(t,n,r){t&&f.jsPsych.data.addProperties({participant_id:r,study_id:n,start_date:e,task_version:te.a}),i(t)},[e]);return Object(r.useEffect)(function(){if(console.log("Turk:",m.b.USE_MTURK),console.log("Firebase:",m.b.USE_FIREBASE),console.log("Prolific:",m.b.USE_PROLIFIC),console.log("Electron:",m.b.USE_ELECTRON),console.log("Video:",m.b.USE_CAMERA),console.log("Volume:",m.b.USE_VOLUME),console.log("Event Marker:",m.b.USE_EEG),console.log("Photodiode:",m.b.USE_PHOTODIODE),m.b.USE_ELECTRON){var e=window.require("electron").ipcRenderer;y(e),e.send("updateEnvironmentVariables",m.b);var t=e.sendSync("syncCredentials");t.envParticipantId&&P(t.envParticipantId),t.envStudyId&&C(t.envStudyId),A("desktop")}else if(m.b.USE_MTURK){window.lodash=_.noConflict();var n=Object(w.d)();k(new PsiTurk(n,"/complete")),A("mturk"),V(!0,"mturk",n)}else if(m.b.USE_PROLIFIC){var r=Object(w.c)();m.b.USE_FIREBASE&&r?(A("firebase"),V(!0,"prolific",r)):x(!0)}else if(m.b.USE_FIREBASE){A("firebase");var o=F.get("participantID"),a=F.get("studyID");o&&P(o),a&&C(a)}else A("default")},[]),M?o.a.createElement("div",{className:"centered-h-v"},o.a.createElement("div",{className:"width-50 alert alert-danger"},"Please ask your task provider to enable firebase.")):o.a.createElement(o.a.Fragment,null,a?o.a.createElement(J,{dataUpdateFunction:{desktop:function(e){h.send("data",e)},firebase:function(e){ee(e)},mturk:function(e){g.recordTrialData(e)},default:H}[L],dataFinishFunction:{desktop:function(){h.send("end","true")},mturk:function(){!function(){var e=Object(u.a)(c.a.mark(function e(){return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return g.saveData(),e.next=3,Object(w.f)(5e3);case 3:g.completeHIT();case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},firebase:H,default:function(){f.jsPsych.data.get().localSave("csv","neuro-task.csv")}}[L]}):o.a.createElement(p,{validationFunction:{desktop:B,default:B,firebase:function(t,n){return $(t,n,e)}}[L],envParticipantId:j,envStudyId:S,onLogin:V}))};i.a.render(o.a.createElement(ne,null),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.ec591afe.chunk.js.map